<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cat√°logo ‚Äì Princesa Reborn</title>
  <meta name="description" content="Cat√°logo de Beb√™s Reborn ‚Äì modelos artesanais com amor." />
  <style>
    :root{
      --bg:#0f0f12;
      --card:#17181d;
      --muted:#a9afbc;
      --text:#ffffff;
      --brand:#ff7ab6;
      --brand-2:#8a7aff;
      --stroke: #262832;
      --radius:14px;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: radial-gradient(1200px 800px at 10% -10%, rgba(255,122,182,.10), transparent 60%),
                  radial-gradient(900px 700px at 110% 10%, rgba(138,122,255,.10), transparent 60%),
                  var(--bg);
      color:var(--text);
    }
    header{
      max-width:1100px; margin:40px auto 20px; padding:0 16px;
      display:grid; gap:18px;
    }
    .brand{
      display:flex; align-items:center; gap:12px;
    }
    .logo{
      width:42px; height:42px; border-radius:12px;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      box-shadow: 0 6px 18px rgba(255,122,182,.35);
    }
    h1{font-size:clamp(22px, 3vw, 32px); margin:0}
    .muted{color:var(--muted)}
    .toolbar{
      display:flex; flex-wrap:wrap; gap:10px;
      background:rgba(255,255,255,.02); border:1px solid var(--stroke);
      padding:12px; border-radius:16px; backdrop-filter: blur(8px);
    }
    .search{
      flex:1; min-width:200px; position:relative;
    }
    .search input{
      width:100%; padding:12px 14px 12px 40px; border-radius:12px;
      border:1px solid var(--stroke); background:#121319; color:var(--text);
      outline:none;
    }
    .search .icon{
      position:absolute; left:12px; top:50%; transform:translateY(-50%);
      font-size:14px; color:var(--muted);
    }
    select, .chip{
      border:1px solid var(--stroke); background:#121319; color:var(--text);
      padding:10px 12px; border-radius:12px; outline:none;
    }
    .chip{
      cursor:pointer; user-select:none; transition:.2s;
    }
    .chip.active, .chip:hover{ border-color: transparent; background:linear-gradient(135deg, rgba(255,122,255,.25), rgba(138,122,255,.25)); }
    main{max-width:1100px; margin:10px auto 60px; padding:0 16px;}

    /* ===== GRID ===== */
    .grid{
      display:grid; gap:16px;
      grid-template-columns:repeat( auto-fit, minmax(230px, 1fr) );
    }
    /* Mobile: sempre 2 por linha */
    @media (max-width: 520px){
      .grid{
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap:12px;
      }
      .content{ padding:10px }
      .title{ font-size:14px }
      .meta{ font-size:12px }
      .price{ font-size:16px }
      .btn{ padding:9px 10px; font-size:14px }
    }

    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
      border:1px solid var(--stroke); border-radius:var(--radius);
      overflow:hidden; box-shadow: var(--shadow); transition: transform .2s ease, box-shadow .2s ease;
    }
    .card:hover{ transform: translateY(-3px); box-shadow: 0 14px 40px rgba(0,0,0,.45);}
    /* imagem quadrada, centralizada, sem corte */
    .thumb{
      aspect-ratio: 1 / 1;
      background:#0d0e13;
      overflow:hidden;
      display:grid;
      place-items:center;
      position:relative;
    }
    .thumb img{
      width:100%;
      height:100%;
      object-fit:contain;
      object-position:center;
      display:block;
      transition: transform .4s ease;
    }
    .card:hover .thumb img{ transform: scale(1.04); }
    .badge{
      position:absolute; top:10px; left:10px; font-size:12px; padding:6px 10px;
      background:rgba(0,0,0,.5); border:1px solid rgba(255,255,255,.15); border-radius:999px;
      backdrop-filter: blur(6px);
    }
    .content{ padding:14px 14px 16px; display:grid; gap:8px; }
    .title{ font-weight:700; letter-spacing:.2px;}
    .meta{ font-size:13px; color:var(--muted); display:flex; gap:8px; flex-wrap:wrap;}
    .price{ font-size:18px; font-weight:800; background:linear-gradient(135deg, var(--brand), var(--brand-2)); -webkit-background-clip: text; background-clip:text; color:transparent;}
    .cta-row{ display:flex; gap:8px; }

    .btn{
      flex:1; text-align:center; padding:10px 12px; border-radius:10px; cursor:pointer; border:1px solid var(--stroke); background:#121319; color:var(--text);
    }
    .btn.primary{
      background: linear-gradient(135deg, var(--brand), var(--brand-2)); border:none; font-weight:700;
    }

    /* Modal */
    dialog{
      width:min(920px, 92vw); border:none; padding:0; border-radius:16px; overflow:hidden; background:#11131a; color:var(--text);
      box-shadow: 0 40px 100px rgba(0,0,0,.6);
    }
    dialog::backdrop{ background: rgba(0,0,0,.6) }
    .modal{
      display:grid; grid-template-columns: 1.2fr 1fr; min-height: 420px; position:relative;
    }
    .modal .left{
      background:#0e0f14;
      display:grid;
      grid-template-rows: minmax(0, 1fr) auto; /* carrossel | thumbs */
      min-height:100%;
    }

    .modal .right{ padding:20px; display:grid; gap:10px }
    .pill{ display:inline-block; font-size:12px; padding:6px 10px; border:1px solid var(--stroke); border-radius:999px; color:var(--muted)}
    .pill-group{ display:flex; flex-wrap:wrap; gap:8px; }
    .specs{ display:grid; gap:6px; font-size:14px; color:var(--muted)}
    .x{ position:absolute; right:12px; top:12px; background:transparent; border:1px solid var(--stroke); color:var(--muted); border-radius:8px; padding:6px 10px; cursor:pointer}

    /* ===== Melhorias mobile: modal full-screen e imagem grande ===== */
    @media (max-width: 860px){
      dialog{
        width: 100vw;
        max-width: none;
        height: 100svh;
        margin: 0;
        border-radius: 0;
      }
      .modal{
        grid-template-columns: 1fr;
        grid-template-rows: minmax(0, 65svh) 1fr;
        min-height: 100%;
      }
      .modal .left{
        aspect-ratio: auto;
        min-height: 0;
      }
      .carousel{
        padding: 0;
        height: 100%;
        max-height: none;
      }
      .carousel img{
        width: 100%;
        height: 100%;
        object-fit: contain;
      }
      .thumbs{
        padding: 12px;
      }
      .thumbs button{
        width: 72px;
        height: 72px;
      }
      .nav{
        padding: 10px 14px;
      }
    }

    .carousel{
      max-height: 80vh;
    }

    footer{ color:var(--muted); text-align:center; padding:30px 16px 60px; font-size:13px}
    .empty{ text-align:center; color:var(--muted); padding:30px 10px }

    .carousel {
      position: relative;
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #0a0b10;
      overflow: clip;
      padding: 20px;
      max-height: 50vh;
      box-sizing: border-box;
    }
    .carousel img {
      max-width: 100%;
      max-height: 100%;
      width: auto;
      height: auto;
      object-fit: contain;
      object-position: center;
      display: block;
    }
    .nav{
      position:absolute; top:50%; transform:translateY(-50%);
      background:rgba(0,0,0,.45); border:1px solid rgba(255,255,255,.15);
      color:#fff; border-radius:10px; padding:8px 12px; cursor:pointer;
      backdrop-filter: blur(6px);
    }
    .nav.prev{ left:10px }
    .nav.next{ right:10px }
    .nav:disabled{ opacity:.4; cursor:not-allowed }
    .hotspot{
      position:absolute; top:0; bottom:0; width:5%;
      background:transparent; border:none; cursor: pointer;
    }
    .hotspot.left{ left:0 }
    .hotspot.right{ right:0 }
    .thumbs{
      display:flex; gap:8px; padding:10px; overflow:auto; width:100%;
      background:#0a0b10; border-top:1px solid var(--stroke);
    }
    .thumbs button{
      border:1px solid var(--stroke); background:#11131a; padding:0; border-radius:10px;
      width:62px; height:62px; overflow:hidden; cursor:pointer; flex:0 0 auto;
    }
    .thumbs img{
      width:100%; height:100%; object-fit:contain; display:block; background:#0a0b10;
    }
    .thumbs button.active{ outline:2px solid var(--brand); border-color: transparent }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <h1>Cat√°logo ‚Äì Beb√™s Reborn</h1>
        <div class="muted">Modelos artesanais feitos com carinho. Clique para ver detalhes üíó</div>
      </div>
    </div>

    <div class="toolbar" role="region" aria-label="filtros">
      <div class="search" role="search">
        <span class="icon">üîé</span>
        <input id="q" type="search" placeholder="Buscar por nome, tamanho..." aria-label="Buscar" />
      </div>

      <button class="chip active" data-cat="todas">Todas</button>
      <button class="chip" data-cat="menina">Menina</button>
      <button class="chip" data-cat="menino">Menino</button>
      <button class="chip" data-cat="recem-nascido">Rec√©m-nascido</button>
      <button class="chip" data-cat="dormindo">Dormindo</button>

      <select id="ordem" aria-label="Ordenar">
        <option value="padrao">Ordenar</option>
        <option value="menor-preco">Menor pre√ßo</option>
        <option value="maior-preco">Maior pre√ßo</option>
        <option value="nome">Nome (A‚ÄìZ)</option>
      </select>
    </div>
  </header>

  <main>
    <div id="grid" class="grid" aria-live="polite"></div>
    <div id="empty" class="empty" hidden>Nenhum item encontrado para esses filtros.</div>
  </main>

  <dialog id="modal">
    <div class="modal">
      <button class="x" onclick="modal.close()">‚úï</button>
      <div class="left">
        <div id="carousel" class="carousel" aria-live="polite">
          <button class="nav prev" aria-label="Imagem anterior" onclick="prevImg()">‚ùÆ</button>
          <img id="modalImg" alt="Foto do beb√™ selecionado" />
          <button class="nav next" aria-label="Pr√≥xima imagem" onclick="nextImg()">‚ùØ</button>
          <button class="hotspot left" aria-hidden="true" onclick="prevImg()"></button>
          <button class="hotspot right" aria-hidden="true" onclick="nextImg()"></button>
        </div>
        <div id="thumbs" class="thumbs" aria-label="Miniaturas"></div>
      </div>
      <div class="right">
        <h2 id="modalTitle" style="margin:0"></h2>
        <div class="pill-group" id="modalTags"></div>
        <div class="price" id="modalPrice"></div>
        <div class="specs" id="modalSpecs"></div>
        <p id="modalDesc"></p>
        <div class="cta-row">
          <a id="whats" class="btn primary" target="_blank" rel="noopener">Quero reservar no WhatsApp</a>
          <button class="btn" onclick="modal.close()">Fechar</button>
        </div>
      </div>
    </div>
  </dialog>

  <footer>¬© <span id="year"></span> Princesa Reborn ‚Äî feito √† m√£o no Brasil.</footer>

  <script>
    // === DADOS (troque aqui pelos seus produtos) ===
    const produtos = [
      {
        id:"ana",
        nome:"Mait√™",
        preco: 699.99,
        categoria:["menina","dormindo", "careca"],
        tamanho:"52 cm",
        peso:"1,4 kg",
        pele:"Branquinha com veias realistas",
        cabelo:"Pintado",
        olhos:"Fechados",
        imagens:["maite.jpg","maite-2.jpg"],
        descricao:"Beb√™ com toque macio, pintura realista e cheirinho de beb√™. Acompanha enxoval completo."
      },
      {
        id:"sofia",
        nome:"Sofia",
        preco: 699.99,
        categoria:["menina", "dormindo"],
        tamanho:"50 cm",
        peso:"1,4 kg",
        pele:"Tom p√™ssego",
        cabelo:"Enroaldo Castanho",
        olhos:"Fechado",
        imagens:["sofia-1.jpg","sofia-2.jpg"],
        descricao:"Express√£o serena, ideal para presente. Feita com silicone vinyl de alta qualidade."
      },
      {
        id:"Henri",
        nome:"Henri",
        preco: 399.99,
        categoria:["menino","recem-nascido"],
        tamanho:"50 cm",
        peso:"14 kg",
        pele:"Branco",
        cabelo:"Liso escuro",
        olhos:"Castanho",
        imagens:["miguel-1.jpg","miguel-2.jpg","miguel-3.jpg"],
        descricao:"Menininho charmoso com detalhes de rec√©m-nascido e corpo com enchimento macio."
      },
      {
        id:"test",
        nome:"Test",
        preco: 160.00,
        categoria:["menino"],
        tamanho:"56 cm",
        peso:"3,0 kg",
        pele:"Tom oliva",
        cabelo:"Castanho escuro",
        olhos:"Azuis",
        imagens:["enzo-1.jpg","enzo-2.jpg"],
        descricao:"Modelo premium com pintura multicamadas e magn√©tico para chupeta."
      }
    ];

    // === LABELS bonitos para categorias ===
    const LABELS = {
      'menina':'Menina',
      'menino':'Menino',
      'recem-nascido':'Rec√©m-nascido',
      'dormindo':'Dormindo',
      'careca':'Careca'
    };
    const labelDa = k => LABELS[k] || k;

    // === RENDERIZA√á√ÉO ===
    const grid = document.getElementById('grid');
    const empty = document.getElementById('empty');
    const q = document.getElementById('q');
    const ordem = document.getElementById('ordem');
    let filtroCategoria = 'todas';

    function formataBRL(v){ return v.toLocaleString('pt-BR', {style:'currency', currency:'BRL'}); }

    function cardHTML(p){
      const tag = p.categoria.includes('recem-nascido') ? 'Rec√©m-nascido' :
                  p.categoria.includes('menina') ? 'Menina' : 'Menino';
      const cover = (p.imagens && p.imagens[0]) || p.imagem || '';
      return `
        <article class="card" tabindex="0" role="button" aria-label="Ver detalhes de ${p.nome}" onclick="abrir('${p.id}')" onkeydown="if(event.key==='Enter'){abrir('${p.id}')}">
          <a class="thumb">
            <img src="${cover}" alt="${p.nome}" loading="lazy" decoding="async" />
            <span class="badge">${tag}</span>
          </a>
          <div class="content">
            <div class="title">${p.nome}</div>
            <div class="meta">
              <span>${p.tamanho}</span>¬∑<span>${p.peso}</span>
            </div>
            <div class="price">${formataBRL(p.preco)}</div>
            <div class="cta-row">
              <!-- bot√£o compartilhar removido -->
              <button class="btn primary" onclick="event.stopPropagation(); abrir('${p.id}')">Ver detalhes</button>
            </div>
          </div>
        </article>
      `;
    }

    function aplicaFiltros(lista){
      const texto = q.value.trim().toLowerCase();
      return lista.filter(p=>{
        const matchTexto = !texto || [
          p.nome, p.tamanho, p.peso, p.pele, p.cabelo, p.olhos
        ].some(v=> (v||'').toLowerCase().includes(texto));
        const matchCat = filtroCategoria==='todas' || (p.categoria||[]).includes(filtroCategoria);
        return matchTexto && matchCat;
      });
    }

    function aplicaOrdem(lista){
      const v = ordem.value;
      if (v==='menor-preco') return [...lista].sort((a,b)=>a.preco-b.preco);
      if (v==='maior-preco') return [...lista].sort((a,b)=>b.preco-a.preco);
      if (v==='nome') return [...lista].sort((a,b)=>a.nome.localeCompare(b.nome));
      return lista;
    }

    function render(){
      let lista = aplicaFiltros(produtos);
      lista = aplicaOrdem(lista);
      grid.innerHTML = lista.map(cardHTML).join('');
      empty.hidden = lista.length>0;
    }

    // === MODAL & CARROSSEL ===
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const modalTitle = document.getElementById('modalTitle');
    const modalTags = document.getElementById('modalTags');
    const modalPrice = document.getElementById('modalPrice');
    const modalSpecs = document.getElementById('modalSpecs');
    const modalDesc = document.getElementById('modalDesc');
    const whats = document.getElementById('whats');
    const thumbsEl = document.getElementById('thumbs');
    const carouselEl = document.getElementById('carousel');

    let produtoAtual = null;
    let idxAtual = 0;
    let startX = 0, deltaX = 0;

    function imagensDo(p){
      if (Array.isArray(p.imagens) && p.imagens.length) return p.imagens;
      return p.imagem ? [p.imagem] : [];
    }

    function renderThumbs(imgs){
      thumbsEl.innerHTML = imgs.map((src,i)=>`
        <button aria-label="Ver imagem ${i+1}" class="${i===idxAtual?'active':''}" onclick="goToImg(${i})">
          <img src="${src}" alt="Miniatura ${i+1}">
        </button>
      `).join('');
    }

    function updateCarousel(){
      const imgs = imagensDo(produtoAtual);
      modalImg.src = imgs[idxAtual] || '';
      const prev = modal.querySelector('.nav.prev');
      const next = modal.querySelector('.nav.next');
      prev.disabled = idxAtual<=0;
      next.disabled = idxAtual>=imgs.length-1;

      [...thumbsEl.querySelectorAll('button')].forEach((b,i)=>{
        b.classList.toggle('active', i===idxAtual);
      });
    }

    function goToImg(i){
      const imgs = imagensDo(produtoAtual);
      idxAtual = Math.max(0, Math.min(i, imgs.length-1));
      updateCarousel();
    }
    function prevImg(){ goToImg(idxAtual - 1); }
    function nextImg(){ goToImg(idxAtual + 1); }

    function abrir(id){
      const p = produtos.find(x=>x.id===id);
      produtoAtual = p;
      idxAtual = 0;

      modalTitle.textContent = p.nome;
      modalTags.innerHTML = (p.categoria || [])
        .map(cat => `<span class="pill">${labelDa(cat)}</span>`)
        .join('');
      modalPrice.textContent = formataBRL(p.preco);
      modalSpecs.innerHTML = `
        <div>‚Ä¢ Tamanho: ${p.tamanho}</div>
        <div>‚Ä¢ Peso: ${p.peso}</div>
        <div>‚Ä¢ Pele: ${p.pele}</div>
        <div>‚Ä¢ Cabelo: ${p.cabelo}</div>
        <div>‚Ä¢ Olhos: ${p.olhos}</div>
      `;
      modalDesc.textContent = p.descricao || '';
      const msg = encodeURIComponent(`Ol√°! Tenho interesse na ${p.nome}. Ainda est√° dispon√≠vel?`);
      whats.href = `https://wa.me/5511976762188?text=${msg}`;

      const imgs = imagensDo(p);
      renderThumbs(imgs);
      updateCarousel();

      modal.showModal();
      document.body.style.overflow = 'hidden';
      modal.focus();
    }

    modal.addEventListener('close', ()=>{
      document.body.style.overflow = '';
    });

    // === EVENTOS UI ===
    q.addEventListener('input', render);
    ordem.addEventListener('change', render);
    const chipsEls = document.querySelectorAll('.chip');
    chipsEls.forEach(ch=>{
      ch.addEventListener('click', ()=>{
        chipsEls.forEach(c=>c.classList.remove('active'));
        ch.classList.add('active');
        filtroCategoria = ch.dataset.cat;
        render();
      })
    });

    // teclado no modal
    modal.addEventListener('keydown', (e)=>{
      if (e.key === 'ArrowLeft') { e.preventDefault(); prevImg(); }
      if (e.key === 'ArrowRight') { e.preventDefault(); nextImg(); }
    });

    // swipe no mobile
    carouselEl.addEventListener('touchstart', (e)=>{ startX = e.changedTouches[0].clientX; deltaX = 0; }, {passive:true});
    carouselEl.addEventListener('touchmove', (e)=>{ deltaX = e.changedTouches[0].clientX - startX; }, {passive:true});
    carouselEl.addEventListener('touchend', ()=>{
      if (Math.abs(deltaX) > 40){
        if (deltaX < 0) nextImg(); else prevImg();
      }
    });

    document.getElementById('year').textContent = new Date().getFullYear();
    render();

  </script>
</body>
</html>
